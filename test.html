<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Service App</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50">

  <!-- Navbar -->
  <nav class="flex justify-between items-center p-4 bg-blue-600 text-white">
    <h1 class="text-lg font-bold">Service App</h1>
    <div class="flex items-center gap-6">
      <span>💗 <span id="heart-count">0</span></span>
      <span>📄 Copies: <span id="copy-count">0</span></span>
      <span>🪙 Coins: <span id="coin-count">100</span></span>
    </div>
  </nav>

  <!-- Cards -->
  <section class="p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    <div class="p-4 bg-white rounded-xl shadow">
      <h2 class="text-lg font-semibold">Plumber</h2>
      <p>Number: <span class="service-number">0123456789</span></p>
      <div class="flex justify-between mt-4 gap-2">
        <img src="heart.png" class="wishlist-icon w-8 h-8 cursor-pointer" alt="heart">
        <button class="copy-btn bg-green-500 text-white px-3 py-1 rounded"
                data-number="0123456789">
          Copy
        </button>
        <button class="call-btn bg-blue-500 text-white px-3 py-1 rounded"
                data-name="Plumber"
                data-number="0123456789">
          Call
        </button>
      </div>
    </div>

    <div class="p-4 bg-white rounded-xl shadow">
      <h2 class="text-lg font-semibold">Electrician</h2>
      <p>Number: <span class="service-number">0987654321</span></p>
      <div class="flex justify-between mt-4 gap-2">
        <img src="heart.png" class="wishlist-icon w-8 h-8 cursor-pointer" alt="heart">
        <button class="copy-btn bg-green-500 text-white px-3 py-1 rounded"
                data-number="0987654321">
          Copy
        </button>
        <button class="call-btn bg-blue-500 text-white px-3 py-1 rounded"
                data-name="Electrician"
                data-number="0987654321">
          Call
        </button>
      </div>
    </div>
  </section>

  <!-- Call History -->
  <section class="p-6">
    <div class="flex justify-between items-center mb-2">
      <h2 class="text-lg font-bold">📞 Call History</h2>
      <button id="clear-history" class="bg-red-500 text-white px-4 py-1 rounded">Clear History</button>
    </div>
    <ul id="history-container" class="space-y-2 bg-white p-4 rounded-xl shadow"></ul>
  </section>

  <!-- Script -->
  <script>
// Heart Function (multiple clicks allowed)
const wishlistIcons = document.querySelectorAll(".wishlist-icon");
const heartCount = document.getElementById("heart-count");
let heartCounter = 0;

wishlistIcons.forEach(icon => {
  icon.addEventListener("click", () => {
    heartCounter++;
    heartCount.textContent = heartCounter;
  });
});

// Copy Function (multiple clicks allowed)
const copyButtons = document.querySelectorAll(".copy-btn");
const copyCount = document.getElementById("copy-count");
let copyCounter = 0;

copyButtons.forEach(button => {
  button.addEventListener("click", () => {
    const number = button.dataset.number;

    navigator.clipboard.writeText(number).then(() => {
      copyCounter++;
      copyCount.textContent = copyCounter;
      alert(`✅ Hotline number ${number} copied!`);
    });
  });
});


    // Call Function
    const callButtons = document.querySelectorAll(".call-btn");
    const coinCount = document.getElementById("coin-count");
    const historyContainer = document.getElementById("history-container");
    let coins = 100;

    callButtons.forEach(button => {
      button.addEventListener("click", () => {
        const serviceName = button.dataset.name;
        const serviceNumber = button.dataset.number;

        if (coins < 20) {
          alert("⚠️ Not enough coins! You need at least 20.");
          return;
        }

        // Deduct coins
        coins -= 20;
        coinCount.textContent = coins;

        // Show alert
        alert(`📞 Calling ${serviceName} at ${serviceNumber}...`);

        // Get current time in AM/PM format
        const now = new Date();
        let hours = now.getHours();
        const minutes = now.getMinutes().toString().padStart(2, "0");
        const ampm = hours >= 12 ? "PM" : "AM";
        hours = hours % 12;
        hours = hours ? hours : 12; // 0 → 12
        const timeStr = `${hours}:${minutes} ${ampm}`;

        // Add to history
        const li = document.createElement("li");
        li.textContent = `${serviceName} - ${serviceNumber} (Time: ${timeStr})`;
        historyContainer.appendChild(li);
      });
    });

    // Clear History
    const clearBtn = document.getElementById("clear-history");
    clearBtn.addEventListener("click", () => {
      historyContainer.innerHTML = "";
    });
  </script>
</body>
</html>
